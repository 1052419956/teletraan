{% extends 'hosts/hosts_base.html' %}

{% load utils %}

{% block side-panel %}
<div class="panel panel-default">
    {% include "host_side_panel.html" %}
</div>
{% endblock %}

{% block main %}

{% if agent_wrappers %}
    <div class="panel panel-default">
    {% include "panel_heading.tmpl" with panel_title="Agent Details" panel_body_id="agentDetailsId" direction="down" %}
    <div id="agentDetailsId" class="collapse in panel-body">

    {% for agent_wrapper in agent_wrappers %}
        {% with env=agent_wrapper.env agent=agent_wrapper.agent %}
        {% include "hosts/host_details.tmpl" with agent=agent env=env%}
        {% endwith %}
    {% endfor %}

    </div>
    </div>
{% endif %}

<div class="panel panel-default">
{% include "panel_heading.tmpl" with panel_title="Host Details" panel_body_id="hostDetailId" direction="down" %}
<div id="hostDetailId" class="collapse in panel-body table-responsive">
<table class="table table-striped table-bordered table-condensed table-hover">
    <tr>
        <th class="col-lg-1">Host Name</th>
        <th class="col-lg-2">Host Id</th>
        <th class="col-lg-2">Host Group</th>
        <th class="col-lg-2">Ip Address</th>
        <th class="col-lg-1">Status</th>
        <th class="col-lg-2">Create Date</th>
        <th class="col-lg-2">Last Update</th>
    </tr>
    {% for host in hosts %}
    <tr class="{{ host.state|hostStateClass}}">
        <td>{{ host.hostName }}</td>
        <td>{{ host.hostId }}</td>
        <td>{{ host.groupName }}</td>
        <td>{{ host.ip }}</td>
        <td><span class="deployToolTip pointer-cursor" data-toggle="tooltip" title="{{ host.state|hostStateTip }}">{{ host.state }}</span></td>
        <td>{{ host.createDate|convertTimestamp }}</td>
        <td>{{ host.lastUpdateDate|convertTimestamp }}</td>
    </tr>
    {% endfor %}
</table>
</div>
</div>

{% endblock %}
